<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="qna">
	<select id="listQna" parameterType="map" resultType="Integer">
		SELECT num, q.id, subject, questionPrivate, parent, created, categoryNum
		FROM qna q
		JOIN member m ON q.id = m.id
	</select>
	
	<insert id="insertQna" parameterType="com.sp.customer.qna.Qna">
		INSERT INTO qna(num, categoryNum, questionPrivate, subject, content, id, parent, created)
		VALUES(qna_seq.NEXTVAL, #{categoryNum}, #{questionPrivate}, #{subject}, #{content}, #{id}, #{parent, jdbcType=INTEGER}, SYSDATE})
	</insert>
	
	<select id="listCategory" resultType="com.sp.customer.qna.Qna">
		SELECT categoryNum, category FROM qnaCategory
	</select>
</mapper>